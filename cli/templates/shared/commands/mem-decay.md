# /mem decay - 记忆衰减状态

显示记忆的时间衰减状态，帮助识别需要清理或刷新的记忆。

## 使用方法

```
/mem decay [--cleanup] [--refresh <id>]
```

## 参数

| 参数 | 说明 |
|------|------|
| `--cleanup` | 显示建议清理的记忆列表 |
| `--refresh <id>` | 刷新指定记忆的访问时间 |

## 衰减状态说明

| 状态 | 说明 | 衰减分数 |
|------|------|----------|
| 🟢 Active | 活跃记忆，近期访问或高频使用 | 0.8 - 1.0 |
| 🟡 Aging | 老化中，一段时间未访问 | 0.5 - 0.8 |
| 🟠 Stale | 陈旧，长时间未访问 | 0.2 - 0.5 |
| 🔴 Cleanup | 建议清理 | < 0.2 |

## 衰减规则

1. **宽限期**: 7 天内访问的记忆不衰减
2. **核心记忆**: 访问次数 ≥ 5 的记忆永不衰减
3. **衰减速率**: 宽限期后每天衰减 1%
4. **清理阈值**: 90 天未访问且分数 < 0.2

## 执行流程

```yaml
workflow:
  - step: 加载记忆
    action: 从 openmemory 获取所有记忆
    
  - step: 计算衰减
    action: 对每条记忆计算衰减分数
    
  - step: 分组显示
    action: 按状态分组展示
    output: |
      ## 📊 记忆衰减状态
      
      ### 🟢 Active (12 条)
      - [ID: xxx] 用户偏好: 深色主题 (访问: 8次, 分数: 1.0)
      - ...
      
      ### 🟡 Aging (5 条)
      - [ID: yyy] 项目配置: API 端口 (访问: 2次, 分数: 0.65)
      - ...
      
      ### 🔴 Cleanup (3 条)
      - [ID: zzz] 临时笔记 (访问: 0次, 分数: 0.1)
      
      💡 运行 `/mem clean` 清理建议删除的记忆
```

## 刷新记忆

当某条记忆仍然重要但长时间未访问时，可以手动刷新：

```
/mem decay --refresh abc123
```

这会更新记忆的 `lastAccessedAt` 时间，重置衰减计时。

## 相关命令

- `/mem clean` - 执行 ROT 清理
- `/mem status` - 查看记忆状态
- `/mem search` - 搜索记忆

---
*OpenMemory Plus v2.0 - Memory Decay System*

