# 同步检查

检测项目级和用户级记忆之间的冲突。

## 执行步骤

1. 读取 `.memory/` 中的所有信息
2. 搜索 openmemory 中的相关记忆
3. 检测冲突（同一主题不同值）
4. 展示冲突列表
5. 提示用户选择解决方式

## 冲突类型

| 冲突类型 | 示例 | 解决方式 |
|----------|------|----------|
| 值不一致 | 项目级: "用 npm" vs 用户级: "偏好 pnpm" | 用户选择保留哪个 |
| 重复记录 | 两处都记录了部署 URL | 合并或删除重复 |
| 过期信息 | 项目级配置已更新，用户级未同步 | 更新用户级 |

## 输出格式

```
🔄 同步检查结果

发现 2 个冲突:

⚠️ 冲突 1: 包管理器偏好不一致
├── 📁 项目级: 使用 npm (package-lock.json 存在)
└── 👤 用户级: "偏好使用 pnpm"

建议: 更新用户记忆以匹配项目配置
操作: [A] 保留项目级 [B] 保留用户级 [S] 跳过

⚠️ 冲突 2: 部署 URL 重复
├── 📁 项目级: deploy_url: "https://xxx.vercel.app"
└── 👤 用户级: "项目部署在 https://xxx.vercel.app"

建议: 删除用户级重复记录
操作: [A] 删除用户级 [B] 保留两者 [S] 跳过
```

## 自动同步选项

- "全部自动" - 按建议自动处理所有冲突
- "逐个处理" - 一个一个确认

## 返回菜单

完成后提示: "还需要其他操作吗？输入 `/memory` 返回菜单"
