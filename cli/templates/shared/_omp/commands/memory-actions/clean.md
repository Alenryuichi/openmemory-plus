# 清理记忆

清理过期、冗余或琐碎的记忆 (ROT)。

## 执行步骤

1. 调用 `list_memories_openmemory` 获取所有记忆
2. 分析衰减状态，识别 Cleanup 状态的记忆
3. 检测冗余和矛盾的记忆
4. 展示候选列表，询问用户确认
5. 执行删除

## ROT 判断标准

| 类型 | 定义 | 检测方法 |
|------|------|----------|
| **Redundant** (冗余) | 重复或相似的记忆 | 语义相似度 > 0.9 |
| **Outdated** (过时) | 超过 90 天未访问 | 衰减分数 < 0.3 |
| **Trivial** (琐碎) | 无实际价值 | 内容过短或通用 |

## 输出格式

```
🧹 清理候选记忆

以下记忆可能需要清理:

⚠️ Outdated (过时):
1. "旧项目使用 Webpack 4"
   最后访问: 120天前 | 衰减分数: 0.15

⚠️ Redundant (冗余):
2. "偏好使用 npm" (与另一条冲突)
   最后访问: 30天前

⚠️ Trivial (琐碎):
3. "ok"
   创建时间: 60天前

确认删除？
- "全部删除" - 删除所有候选
- "删除 1,2" - 删除指定项
- "取消" - 不删除
```

## 安全机制

- 删除前必须用户确认
- 显示将被删除的内容预览
- 支持选择性删除

## 返回菜单

完成后提示: "还需要其他操作吗？输入 `/memory` 返回菜单"
