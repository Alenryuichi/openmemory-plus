# 衰减分析

分析记忆的时间衰减状态。

## 执行步骤

1. 调用 `list_memories_openmemory` 获取所有记忆
2. 计算每条记忆的衰减分数
3. 按状态分组展示
4. 提供清理建议

## 衰减算法

基于时间的衰减公式：

```
score = baseScore * (1 - decayRate * daysSinceCreation)
      + accessBonus * recentAccessCount
      + importanceWeight
```

## 衰减状态

| 状态 | 分数范围 | 含义 | 建议操作 |
|------|----------|------|----------|
| 🟢 Active | 0.7 - 1.0 | 活跃，经常使用 | 保留 |
| 🟡 Aging | 0.3 - 0.7 | 老化，需要关注 | 考虑更新 |
| 🔴 Stale | 0.1 - 0.3 | 陈旧，考虑清理 | 建议清理 |
| ⚫ Cleanup | 0 - 0.1 | 待清理 | 强烈建议删除 |

## 输出格式

```
⏰ 记忆衰减分析

📊 总览: 15 条记忆

🟢 Active (12条) ████████████░░░ 80%
├── 用户偏好中文对话 [1.00]
├── 熟悉 TypeScript [0.95]
├── 项目使用 Vitest 测试 [0.88]
└── ... 更多 (输入 "展开 active" 查看全部)

🟡 Aging (2条) ██░░░░░░░░░░░░░ 13%
├── 旧项目使用 Webpack [0.45]
└── 偏好 Vim 编辑器 [0.38]

🔴 Stale (1条) █░░░░░░░░░░░░░░ 7%
└── 使用 jQuery [0.12]

💡 建议: 
- 清理 1 条 Stale 记忆
- 关注 2 条 Aging 记忆，考虑是否仍然相关
```

## 后续操作

- "清理 stale" → 删除所有 Stale 状态记忆
- "刷新第 N 条" → 更新访问时间，重置衰减
- "展开 active" → 显示所有 Active 记忆详情

## 返回菜单

完成后提示: "还需要其他操作吗？输入 `/memory` 返回菜单"
