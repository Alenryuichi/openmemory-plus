# OpenMemory Plus æ¶æ„è®¾è®¡

æœ¬æ–‡æ¡£ä»‹ç» OpenMemory Plus çš„æ•´ä½“æ¶æ„ã€CLI è®¾è®¡å’Œæ¨¡æ¿ç³»ç»Ÿã€‚

## ç›®å½•

- [ç³»ç»Ÿæ¦‚è§ˆ](#ç³»ç»Ÿæ¦‚è§ˆ)
- [CLI æ¶æ„](#cli-æ¶æ„)
- [æ¨¡æ¿ç³»ç»Ÿ](#æ¨¡æ¿ç³»ç»Ÿ)
- [ä¾èµ–æœåŠ¡](#ä¾èµ–æœåŠ¡)
- [IDE é›†æˆ](#ide-é›†æˆ)

---

## ç³»ç»Ÿæ¦‚è§ˆ

OpenMemory Plus æ˜¯ä¸€ä¸ªä¸º AI Agent è®¾è®¡çš„ç»Ÿä¸€è®°å¿†ç®¡ç†æ¡†æ¶ï¼Œç”±ä»¥ä¸‹ç»„ä»¶æ„æˆï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OpenMemory Plus                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   CLI å·¥å…·  â”‚    â”‚  æ¨¡æ¿ç³»ç»Ÿ   â”‚    â”‚  MCP é…ç½®   â”‚     â”‚
â”‚  â”‚  (install)  â”‚    â”‚  (_omp/)    â”‚    â”‚  (IDEé›†æˆ)  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                            â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ä¾èµ–æœåŠ¡å±‚                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚
â”‚  â”‚  â”‚ Docker  â”‚  â”‚ Qdrant  â”‚  â”‚ Ollama  â”‚             â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â”‚ (å‘é‡DB)â”‚  â”‚ (BGE-M3)â”‚             â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CLI æ¶æ„

### æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| è¿è¡Œæ—¶ | Node.js >= 18 | ESM æ¨¡å— |
| è¯­è¨€ | TypeScript | ä¸¥æ ¼æ¨¡å¼ |
| æ„å»º | tsup | å¿«é€Ÿæ‰“åŒ… |
| æµ‹è¯• | Vitest | å•å…ƒæµ‹è¯• |
| CLI æ¡†æ¶ | Commander | å‘½ä»¤è§£æ |
| äº¤äº’ | Inquirer | ç”¨æˆ·è¾“å…¥ |
| æ ·å¼ | Chalk + Ora | ç»ˆç«¯ç¾åŒ– |

### ç›®å½•ç»“æ„

```
cli/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts           # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ commands/          # å‘½ä»¤å®ç°
â”‚   â”‚   â”œâ”€â”€ install.ts     # ä¸»å®‰è£…å‘½ä»¤ (3 é˜¶æ®µ)
â”‚   â”‚   â”œâ”€â”€ status.ts      # ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ doctor.ts      # è¯Šæ–­ä¿®å¤
â”‚   â”‚   â””â”€â”€ deps.ts        # ä¾èµ–æœåŠ¡ç®¡ç†
â”‚   â””â”€â”€ lib/               # æ ¸å¿ƒåº“
â”‚       â”œâ”€â”€ detector.ts    # ä¾èµ–æ£€æµ‹ (Docker, Ollama, Qdrant)
â”‚       â”œâ”€â”€ platform.ts    # è·¨å¹³å°å·¥å…·
â”‚       â”œâ”€â”€ providers.ts   # LLM Provider é…ç½®
â”‚       â””â”€â”€ mcp-config.ts  # MCP é…ç½®ç”Ÿæˆ
â”œâ”€â”€ templates/             # å¯¼å‡ºæ¨¡æ¿
â”‚   â”œâ”€â”€ entry/             # å…¥å£æ–‡ä»¶æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ AGENTS.md.template
â”‚   â””â”€â”€ shared/            # å…±äº«æ¨¡æ¿
â”‚       â””â”€â”€ _omp/          # æ ¸å¿ƒç›®å½•æ¨¡æ¿
â””â”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
```

### å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | æè¿° | é€‰é¡¹ |
|------|------|------|
| `install` | ä¸€é”®å®‰è£… (é»˜è®¤) | `-y`, `--ide`, `--llm`, `--compose` |
| `status` | æ£€æŸ¥ç³»ç»ŸçŠ¶æ€ | - |
| `doctor` | è¯Šæ–­å¹¶ä¿®å¤é—®é¢˜ | - |
| `deps` | ä¾èµ–æœåŠ¡ç®¡ç† | `init`, `up`, `down`, `status`, `logs` |

### å®‰è£…æµç¨‹ (3 é˜¶æ®µ)

```
Phase 1: ä¾èµ–æ£€æµ‹ä¸å®‰è£…
â”œâ”€â”€ æ£€æµ‹ Docker
â”œâ”€â”€ æ£€æµ‹ Ollama
â”œâ”€â”€ æ£€æµ‹ Qdrant
â””â”€â”€ æ£€æµ‹/ä¸‹è½½ BGE-M3 æ¨¡å‹

Phase 2: é¡¹ç›®åˆå§‹åŒ–
â”œâ”€â”€ å¤åˆ¶ _omp/ æ¨¡æ¿
â”œâ”€â”€ ç”Ÿæˆå…¥å£æ–‡ä»¶ (AGENTS.md, CLAUDE.md, etc.)
â”œâ”€â”€ é…ç½® IDE ç‰¹å®šç›®å½•
â””â”€â”€ è®¾ç½® MCP é…ç½®

Phase 3: å®Œæˆ
â”œâ”€â”€ æ˜¾ç¤ºå®‰è£…æ‘˜è¦
â”œâ”€â”€ æ˜¾ç¤º MCP é…ç½® JSON
â””â”€â”€ éªŒè¯å®‰è£…ç»“æœ
```

---

## æ¨¡æ¿ç³»ç»Ÿ

### æ¨¡æ¿æ¶æ„

```
templates/
â”œâ”€â”€ entry/                     # å…¥å£æ–‡ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ AGENTS.md.template     # é€šç”¨å…¥å£ (å¼•ç”¨ _omp/AGENTS.md)
â”‚
â””â”€â”€ shared/_omp/               # æ ¸å¿ƒç›®å½• (å®Œæ•´å¤åˆ¶åˆ°ç”¨æˆ·é¡¹ç›®)
    â”œâ”€â”€ AGENTS.md              # å®Œæ•´ Agent è§„åˆ™
    â”œâ”€â”€ commands/              # Agent å‘½ä»¤
    â”‚   â””â”€â”€ memory.md          # /memory å‘½ä»¤å…¥å£
    â”œâ”€â”€ memory/                # é¡¹ç›®çº§è®°å¿†å­˜å‚¨
    â”‚   â”œâ”€â”€ projectbrief.md
    â”‚   â”œâ”€â”€ productContext.md
    â”‚   â”œâ”€â”€ techContext.md
    â”‚   â”œâ”€â”€ activeContext.md
    â”‚   â”œâ”€â”€ systemPatterns.md
    â”‚   â”œâ”€â”€ decisions.yaml
    â”‚   â””â”€â”€ progress.md
    â”œâ”€â”€ workflows/             # å·¥ä½œæµ
    â”‚   â””â”€â”€ memory/            # è®°å¿†ç®¡ç†å·¥ä½œæµ (7 æ­¥éª¤)
    â””â”€â”€ skills/                # Agent Skills
        â””â”€â”€ memory-extraction/ # è®°å¿†æå– Skill
```

### å…¥å£æ–‡ä»¶ç”Ÿæˆç­–ç•¥

| æ–‡ä»¶ | ç”Ÿæˆæ–¹å¼ | å·²å­˜åœ¨æ—¶è¡Œä¸º |
|------|----------|--------------|
| `AGENTS.md` | æ¨¡æ¿æ¸²æŸ“ | è¿½åŠ  OMP å¼•ç”¨ |
| `CLAUDE.md` | åŠ¨æ€ç”Ÿæˆ | è¿½åŠ  OMP å¼•ç”¨ |
| `.cursor/rules/openmemory.mdc` | åŠ¨æ€ç”Ÿæˆ | è¿½åŠ  OMP å¼•ç”¨ |

### æ¸è¿›å¼é…ç½®

å½“ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨æ—¶ï¼Œé‡‡ç”¨è¿½åŠ æ¨¡å¼è€Œéè¦†ç›–ï¼š

```markdown
<!-- åŸæœ‰å†…å®¹ä¿æŒä¸å˜ -->

<!-- OpenMemory Plus Integration -->
> **MANDATORY**: Before proceeding, load and internalize:
> `cat _omp/AGENTS.md`
```

---

## ä¾èµ–æœåŠ¡

### æœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Compose                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Qdrant    â”‚    â”‚   Ollama    â”‚    â”‚  OpenMemory â”‚     â”‚
â”‚  â”‚  :6333/6334 â”‚    â”‚   :11434    â”‚    â”‚    :8765    â”‚     â”‚
â”‚  â”‚  å‘é‡æ•°æ®åº“  â”‚    â”‚  LLM æ¨ç†   â”‚    â”‚  MCP æœåŠ¡   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | ç”¨é€” |
|------|------|------|
| Qdrant HTTP | 6333 | REST API |
| Qdrant gRPC | 6334 | gRPC æ¥å£ |
| Ollama | 11434 | LLM æ¨ç† API |
| OpenMemory MCP | 8765 | MCP åè®®æœåŠ¡ |

### Docker Compose å‘½ä»¤

```bash
# åˆå§‹åŒ–é…ç½®
omp deps init

# å¯åŠ¨æœåŠ¡
omp deps up

# åœæ­¢æœåŠ¡
omp deps down

# æŸ¥çœ‹çŠ¶æ€
omp deps status

# æŸ¥çœ‹æ—¥å¿—
omp deps logs [service]
```

---

## IDE é›†æˆ

### æ”¯æŒçš„ IDE

| IDE | å…¥å£æ–‡ä»¶ | å‘½ä»¤ç›®å½• | Skills ç›®å½• |
|-----|----------|----------|-------------|
| Augment | `AGENTS.md` | `.augment/commands/` | `.augment/skills/` |
| Claude Code | `CLAUDE.md` | `.claude/commands/` | `.claude/skills/` |
| Cursor | `.cursor/rules/*.mdc` | `.cursor/commands/` | `.cursor/skills/` |
| Gemini | `AGENTS.md` | `.gemini/commands/` | `.gemini/skills/` |
| é€šç”¨ | `AGENTS.md` | `.agents/commands/` | `.agents/skills/` |

### MCP é…ç½®

å®‰è£…åä¼šç”Ÿæˆ MCP é…ç½®ï¼Œéœ€è¦æ·»åŠ åˆ° IDE çš„ MCP è®¾ç½®ä¸­ï¼š

```json
{
  "mcpServers": {
    "openmemory": {
      "command": "npx",
      "args": ["-y", "openmemory-mcp@latest"],
      "env": {
        "OPENAI_API_KEY": "your-api-key",
        "MEM0_API_KEY": "your-mem0-key"
      }
    }
  }
}
```

### LLM Provider é…ç½®

æ”¯æŒå¤šç§ LLM Provider ç”¨äºè®°å¿†åˆ†ç±»ï¼š

| Provider | æ¨¡å‹ | ç¯å¢ƒå˜é‡ | ç‰¹ç‚¹ |
|----------|------|----------|------|
| DeepSeek | deepseek-chat | `DEEPSEEK_API_KEY` | ğŸ”¥ æ¨èï¼Œæ€§ä»·æ¯”é«˜ |
| MiniMax | abab6.5s-chat | `MINIMAX_API_KEY` | ä¸­æ–‡ä¼˜åŒ– |
| ZhiPu | glm-4-flash | `ZHIPU_API_KEY` | å›½äº§å¤§æ¨¡å‹ |
| Qwen | qwen-turbo | `DASHSCOPE_API_KEY` | é˜¿é‡Œäº‘ |
| OpenAI | gpt-4o-mini | `OPENAI_API_KEY` | å›½é™…æ ‡å‡† |
| Ollama | æœ¬åœ°æ¨¡å‹ | - | ç¦»çº¿å¯ç”¨ |

---

## æ•°æ®æµ

### è®°å¿†å­˜å‚¨æµç¨‹

```
ç”¨æˆ·è¾“å…¥ â†’ Agent æ£€æµ‹ â†’ åˆ†ç±»è·¯ç”± â†’ å­˜å‚¨
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“
   é¡¹ç›®çº§è®°å¿†       ç”¨æˆ·çº§è®°å¿†
   _omp/memory/    openmemory MCP
        â†“               â†“
   Git ç‰ˆæœ¬æ§åˆ¶    Qdrant å‘é‡åº“
```

### è®°å¿†æ£€ç´¢æµç¨‹

```
Agent æŸ¥è¯¢ â†’ åŒå±‚æœç´¢ â†’ ç»“æœåˆå¹¶ â†’ è¿”å›ä¸Šä¸‹æ–‡
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“
   è¯»å–æœ¬åœ°æ–‡ä»¶    MCP è¯­ä¹‰æœç´¢
   _omp/memory/    openmemory
```

---

## å®‰å…¨è€ƒè™‘

### æ•æ„Ÿä¿¡æ¯è¿‡æ»¤

ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹å¹¶é˜»æ­¢å­˜å‚¨ä»¥ä¸‹å†…å®¹ï¼š

- API Key / Token / Secret
- å¯†ç  / Password
- ç§é’¥ / Private Key
- æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
- ä¸ªäººèº«ä»½ä¿¡æ¯ (PII)

### æƒé™è¾¹ç•Œ

| æ“ä½œ | æƒé™ |
|------|------|
| è¯»å–è®°å¿† | âœ… è‡ªåŠ¨ |
| å†™å…¥è®°å¿† | âœ… è‡ªåŠ¨ (é«˜ç½®ä¿¡åº¦) |
| åˆ é™¤è®°å¿† | âš ï¸ éœ€ç¡®è®¤ |
| ä¿®æ”¹ç»“æ„ | âš ï¸ éœ€ç¡®è®¤ |
| å­˜å‚¨æ•æ„Ÿä¿¡æ¯ | ğŸš« ç¦æ­¢ |

---

## ç›¸å…³æ–‡æ¡£

- [è®°å¿†ç³»ç»Ÿæ¶æ„](./memory-system.md) - åŒå±‚è®°å¿†ã€ROT è¿‡æ»¤ã€è¡°å‡æ¨¡å‹
- [README](../README.md) - å¿«é€Ÿå¼€å§‹æŒ‡å—
- [CONTRIBUTING](../CONTRIBUTING.md) - è´¡çŒ®æŒ‡å—

---

*OpenMemory Plus - Dual-layer memory for AI agents*
